<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<TITLE>setLightMap</TITLE>
  <link rel="stylesheet" type="text/css" href="style.css" />
</head>
<BODY>
<HR>
<table align="center"><td class="heading">setLightMap</td></table>
<HR>


<P>
<H3>Syntax:</H3>

</P>

<P>
<pre>setLightMap (<i>imageFile</i>);</pre>
</P>

<P>
<pre>setLightMap (<i>imageFile, lightMapMode</i>);</pre>
</P>

<P>
<H3>Purpose:</H3>

</P>

<P>
Sets a new light-map, loading it from the <i>imageFile</i> file. Each pixel of the light-map corresponds to a pixel of the background image. With a light-map loaded, every character's red, green and blue colour values will be multiplied by the red, green and blue values of the pixel in the <i>imageFile</i> at the corresponding location.<BR>
</P>

<P>
The light-map arithmetic is applied before a character's draw mode (set using the <a href="setCharacterDrawMode.html">setCharacterDrawMode</a> function) is taken into consideration. This means that light-maps behave as expected even when dealing with transparent characters, but may not give you the results you expect when using FOGGY1 to FOGGY4.<BR>
</P>

<P>
If <i>imageFile</i> is NULL (or anything other than a file handle) the current light-map will be removed. With no light-map loaded, all characters will be drawn at full colour (after any colour changes due to the character's current drawing mode).<BR>
</P>

<P>
If you specify a <i>lightMapMode</i> the current method for applying a light map to characters will be changed. If you don't specify this parameter, the current method for applying a light map will stay the same. The default method is PERPIXEL. Valid values for the <i>lightMapMode</i> parameter are:<BR>
</P>

<P>
<B>PERPIXEL</B>: Each pixel of a character is multiplied by the light map colour in the same position - i.e. one character will have many different colours applied to it in different places. In this mode, the light map is stretched to fill the entire scene, regardless of actual size in pixels. You can keep the lightmaps smaller to save memory and still get good results.<BR>
</P>

<P>
<B>HOTSPOT</B>: Each pixel of a character is multipled by the light map colour at the character's hotspot (base point) - i.e. each character will only have one colour applied to it, determined by where it is currently positioned. In HOTSPOT mode, the <i>imageFile</i> image must be the same width and height as the current scene dimensions, as set by the most recent call to the <a href="setSceneDimensions.html">setSceneDimensions</a> function.<BR>
</P>

<P>
Characters whose extra properties - set using <a href="setCharacterExtra.html">setCharacterExtra</a> - include the NOLIGHTMAP option are not affected by light-maps.<BR>
</P>

<P>
<H3>Return value:</H3>

</P>

<P>
No return value.<BR>
</P>

<P>
<H3>See also:</H3>

</P>

<P>
<a href="addOverlay.html">addOverlay</a><BR>
</P>

<P>
<P class="copyright-notice">SLUDGE and this SLUDGE documentation are <A HREF="Copyright.html">copyright</A> Hungry Software and contributors 2000-2010
</P>

<P>
<HR>
</BODY>
</html>
