<html>
<head>
<TITLE>cancelSub</TITLE>
</head>
<BODY bgcolor=#FFFFFF TEXT=#000000 LINK=#228822 VLINK=#228822 ALINK=#33BB33>
<CENTER><HR COLOR=#000000 VSPACE=1 NOSHADE SIZE=2>
<TABLE WIDTH=292 BORDER=0 CELLPADDING=0 CELLSPACING=0><TR><TD VALIGN=bottom ALIGN=center height=80 width=292 background="images/sludgepale.gif"><FONT FACE=arial color=#DD0000 SIZE=+1><B>cancelSub</B><BR></FONT></TABLE><HR COLOR=#000000 VSPACE=1 NOSHADE SIZE=2>
</center><IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=20><BR>
<FONT FACE=arial color=#3A8F8B SIZE=+1><B>Syntax:</B></FONT><BR>

<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=13><BR>
<font color=#BB4444 SIZE=+2><TT><B>cancelSub (<i>thisFunction</i>);</B></TT></FONT><BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=15><BR>
<FONT FACE=arial color=#3A8F8B SIZE=+1><B>Purpose:</B></FONT><BR>

<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=13><BR>
Cancels any instances of <i>thisFunction</i> which are running.<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
This command will only cancel a function which has been paused by either the <b><a href="pause.html">pause</a></b> or one of the <b><a href="say_and_think.html">say and think</a></b> commands, and will not cancel a function which is temporarily inactive because of a call to another user-defined function. For example:<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
<FONT color=#BB4444><TT><B>sub outer () {</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;loop {</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say (a, &quot;Outer.&quot;);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inner ();</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;}</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>}</B></TT></FONT><BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
<FONT color=#BB4444><TT><B>sub inner () {</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;say (a, &quot;Inner.&quot;);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>}</B></TT></FONT><BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
<FONT color=#BB4444><TT><B>sub clicky () {</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;cancelSub (outer);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>}</B></TT></FONT><BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
<FONT color=#BB4444><TT><B>sub init () {</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;spawnSub (outer);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;onLeftMouse (clicky);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>}</B></TT></FONT><BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
In the above example, pressing the left mouse button will only cancel the loop if the character a is saying &quot;Outer&quot; and not &quot;Inner&quot;; i.e. while the outer function is active.<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
The cancelSub command will also not cancel a function which is suspended because of a character which is currently moving (because of a call to either the <b><a href="moveCharacter.html">moveCharacter</a></b> or <b><a href="forceCharacter.html">forceCharacter</a></b> function). In these situations you can use <b><a href="stopCharacter.html">stopCharacter</a></b> to stop the character in its tracks, automatically cancelling the suspended function. Several other commands will also stop the movement of the character, thereby cancelling the function which was suspended because the character was moving.<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=15><BR>
<FONT FACE=arial color=#3A8F8B SIZE=+1><B>Return value:</B></FONT><BR>

<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=13><BR>
This function returns the number of instances of <i>thisFunction</i> which were cancelled.<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=15><BR>
<FONT FACE=arial color=#3A8F8B SIZE=+1><B>Example:</B></FONT><BR>

<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=13><BR>
<FONT color=#BB4444><TT><B>sub speechFunction () {</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;loop {</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say (someCharacter, &quot;And so I said to her...&quot;);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say (someCharacter, &quot;Blah blah blah blah blah...&quot;);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say (someCharacter, &quot;Pom-pa-pom-pa-pom...&quot;);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say (someCharacter, &quot;And then she said...&quot;);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say (someCharacter, &quot;Rhubarb rhubarb rhubarb...&quot;);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say (someCharacter, &quot;Yada yada yada...&quot;);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;}</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>}</B></TT></FONT><BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
<FONT color=#BB4444><TT><B>sub clicky () {</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;cancelSub (speechFunction);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;say (ego, &quot;Oh, do shut up.&quot;);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;say (someCharacter, &quot;Pardon me for breathing.&quot;);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>}</B></TT></FONT><BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
<FONT color=#BB4444><TT><B>sub init () {</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;spawnSub (speechFunction);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>&nbsp;&nbsp;&nbsp;onLeftMouse (clicky);</B></TT></FONT><BR>
<FONT color=#BB4444><TT><B>}</B></TT></FONT><BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=15><BR>
<FONT FACE=arial color=#3A8F8B SIZE=+1><B>See also:</B></FONT><BR>

<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=13><BR>
<b><a href="spawnSub.html">spawnSub</a></b><BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
<B><FONT SIZE=1>SLUDGE and this SLUDGE documentation are <A HREF="Copyright.html">copyright</A> Hungry Software 2000-2006</FONT></B>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
<HR COLOR=#000000 VSPACE=1 NOSHADE SIZE=2>
</BODY>
</html>
