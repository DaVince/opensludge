<html>
<head>
<TITLE>About the SLUDGE Z-Buffer Maker</TITLE>
</head>
<BODY bgcolor=#FFFFFF TEXT=#000000 LINK=#228822 VLINK=#228822 ALINK=#33BB33>
<CENTER><HR COLOR=#000000 VSPACE=1 NOSHADE SIZE=2>
<TABLE WIDTH=292 BORDER=0 CELLPADDING=0 CELLSPACING=0><TR><TD VALIGN=bottom ALIGN=center height=80 width=292 background="images/sludgepale.gif"><FONT FACE=arial color=#DD0000 SIZE=+1><B>About the SLUDGE Z-Buffer Maker</B><BR></FONT></TABLE><HR COLOR=#000000 VSPACE=1 NOSHADE SIZE=2>
</center><IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=15><BR>
The SLUDGE z-buffer maker is used to create different areas of a scene which can obscure character graphics, such as foreground silhouettes, doorframes and furniture.<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=15><BR>
<FONT FACE=arial color=#3A8F8B SIZE=+1><B>Creating a z-buffer image:</B></FONT><BR>

<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=13><BR>
(Please note that, by default, the size of the window used by the SLUDGE z-buffer maker is 640x480 pixels. To use a different sized window, choose the <b>Window sizes</b> option from the <b>SLUDGE Settings</b> menu of the <b><a href="About_the_SLUDGE_Project_Manager.html">SLUDGE project manager</a></b> program.)<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
The main work - specifying the areas - cannot be done from within the program itself and must instead be done using a paint package. For example, take the following room (taken from one of the demos):<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
<IMG SRC="images/image002.gif"><BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
The above room image has the following z-buffer image:<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
<IMG SRC="images/image003.gif"><BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
(The size and quality of these images has been reduced for the sake of this documentation - full versions of both images can be found as part of the verb coin example.)<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
Mixing these images together shows the concepts behind the z-buffer image, and which layers correspond with which areas in the actual image. Not that <b>this is not a required stage of producing a z-buffer image</b>; it is here only as an aid to understanding the reasons behind creating the image shown above.<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
<IMG SRC="images/image004.gif"><BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=15><BR>
<FONT FACE=arial color=#3A8F8B SIZE=+1><B>Loading your z-buffer image into the SLUDGE z-buffer maker:</B></FONT><BR>

<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=13><BR>
Save your z-buffer image as an uncompressed TGA file and open it in the SLUDGE z-buffer maker. You are allowed a maximum of 16 different colours - each colour will be treated as a different layer.<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
To read a TGA image file, use the <b>Open</b> command on the <b>File</b> menu. In the drop-down selection box at the bottom of the dialog box, pick &quot;TGA image files (*.TGA)&quot;. Now, find and load your image.<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=15><BR>
<FONT FACE=arial color=#3A8F8B SIZE=+1><B>Scrolling:</B></FONT><BR>

<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=13><BR>
If your scene is larger than the SLUDGE z-buffer maker window, you can scroll around the image by holding down the right mouse button and dragging the mouse in the direction in which you wish to move.<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=15><BR>
<FONT FACE=arial color=#3A8F8B SIZE=+1><B>Cut-off points:</B></FONT><BR>

<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=13><BR>
Clicking the left mouse button on a colour (layer) will allow you to view and change the cut-off point for the layer: that is, the y-value below which a character must be standing in order to be shown in front of the colour in question. By default, when a TGA image is loaded, the cut-off point for each layer is the y-value of the lowest pixel used in the layer. (The exception to this is y-value for any layer which is initially black - for such a layer the y-value is always set to an initial value of 0, meaning characters are always drawn in black areas of the screen.)<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
For example, the cut-off points for the above example are initially set to the following: layer 0 (black) has a y-value of 0, layer 1 (cyan) has a y-value of 479, layer 2 (green) has a y-value of 392 and layer 3 (red) has a y-value of 296.<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
It is possible to set a cut-off point to a larger value than the height of the screen, which is useful if you want to move a character off the bottom of the screen but still have them obscured by an object.<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=15><BR>
<FONT FACE=arial color=#3A8F8B SIZE=+1><B>Saving and using a z-buffer file:</B></FONT><BR>

<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=13><BR>
To save your z-buffer file in the format used by SLUDGE, open the <b>File</b> menu and choose <b>Save</b> or <b>Save as...</b>. The <b>Save</b> option will overwrite the z-buffer file from which the current data was loaded... if the current data was loaded from an image file or no data is loaded, it will do the same as the <b>Save as...</b> option, which allows you to save the data under any file name. You can also save the data as a TGA image if you need to change the size or shape of the layers and you no longer have the original z-buffer image file. Remember, however, that saving as an image will delete all cut-off values as these cannot be saved using the TGA file format.<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
To load your z-buffer file into a game, use the <b><a href="setZBuffer.html">setZBuffer</a></b> function with its <b><a href="File_Handling.html">file handle</a></b> as the parameter. To remove a z-buffer from memory in your game, call the same function with NULL as the parameter.<BR>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
<B><FONT SIZE=1>SLUDGE and this SLUDGE documentation are <A HREF="Copyright.html">copyright</A> Hungry Software 2000-2006</FONT></B>
<IMG SRC="images/blank.gif" WIDTH=1 HEIGHT=10><BR>
<HR COLOR=#000000 VSPACE=1 NOSHADE SIZE=2>
</BODY>
</html>
